<template>
  <div>
    <el-switch
        v-model="value"
        @change="changeDanMu"
        active-text="å¼€å¯å¼¹å¹•"
        inactive-text="å…³é—­å¼¹å¹•">
    </el-switch>
    <p>æš‚åœå¼¹å¹•ï¼š
      <el-button type="danger" :icon="start === 0 ? 'el-icon-video-pause':'el-icon-video-play'" circle
                 @click="pause"></el-button>
    </p>
    <vue-danmaku ref="dan" v-model="danmus" loop randomChannel isSuspend extraStyle="rgba(1,1,2,3)" :speeds=120 :right="10"
                 style="height:200px; width:100%;"></vue-danmaku>
    <div style="width: 30vw;margin: auto">
      <el-input placeholder="è¯·è¾“å…¥éœ€è¦å‘é€çš„å¼¹å¹•ï¼" v-model="input" @keyup.enter.native="send">
        <el-button slot="append" @click="send">å‘é€</el-button>
      </el-input>
    </div>
  </div>
</template>

<script>
import vueDanmaku from 'vue-danmaku'

export default {
  components: {
    vueDanmaku,
  },
  name: "Danmu",
  data() {
    return {
      value: true,
      start: 0,
      input: '',
      danmus: [
        "å¤ªå¥½ç”¨äº†å§",
        "so easy",
        "æ•ˆç‡å¤§å¤§æé«˜å‘€",
        "è¿˜æœ‰ç²¾ç®€ç‰ˆï¼Œè¿˜åˆ†å›½é™…åŒ–å’Œéå›½é™…åŒ–ï¼ŒPerfect ğŸ˜˜",
        "å¥½å¤šç»„ä»¶å‘€ï¼Œçˆ±å•¦çˆ±å•¦ â¤ï¸",
        "ç²¾ç®€ç‰ˆå¼€å‘ä½“éªŒä¹Ÿå¤ªèµäº†å§ ğŸ™€",
        "YepiçœŸå‰å®³å‘€",
        "å“‡å¡ï¼Œyepi å¥½å¤šå¸¸ç”¨ã€æ˜“ç”¨çš„å·¥å…·å‘€",
        "æˆ‘è¦ star è¿™ä¸ªé¡¹ç›®ï¼Œçˆ±å•¦çˆ±å•¦",
        "å…è´¹ã€å¼€æºåšåˆ°è¿™ä¸ªç¨‹åº¦ï¼ŒçœŸä¸é”™ ğŸ‘",
        "æ–‡æ¡£ç®€å•æ˜“æ‡‚ï¼Œä¸Šæ‰‹çœŸå¿«",
        "å‘€ï¼è¿˜æœ‰å…è´¹çš„æ•™å­¦è§†é¢‘å‘¢ï¼Œæˆ‘è¦å»å­¦ä¹ ä¸€ä¸‹å’¯",
        "ç¨³å®šã€å¯é ï¼Œæœªæ¥å¯æœŸå‘€ï¼ŒåŠ æ²¹ï¼",
        "å¤ªå·äº†ï¼Œå¤ªå·äº†ï¼Œæ…¢ç‚¹è®©æˆ‘è·Ÿä¸Š ğŸ˜„"
      ]
    }
  },
  mounted() {
    console.log(this.$refs['dan'].extraStyle)
  },
  methods: {
    changeDanMu(op) {
      if (op === true) {
        this.$refs['dan'].show()
      } else {
        this.$refs['dan'].hide()
      }
    },
    send() {
      this.$refs['dan'].add(this.input)
      this.input = ''
    },
    pause() {
      if (this.start === 0) {
        this.$refs['dan'].pause()
        this.start = 1
      } else if (this.start === 1) {
        this.$refs['dan'].play()
        this.start = 0
      }
    },
  }
}
</script>

<style scoped>

</style>